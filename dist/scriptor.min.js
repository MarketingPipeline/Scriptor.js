/**!
 * @license Scriptor.js - A library for building your own custom text editors
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Scriptor.js/
 */
const defaultButtonProps={insert:!1,htmltags:!0,value:"",wrap:!1},form=document.getElementById("text-editor");if(null!=form){let b=!1,c=0;form.addEventListener("click",()=>c=form.selectionEnd,!1),form.addEventListener("input",()=>{c=form.selectionEnd}),window.addEventListener("load",function(a){form.value});let a=document.querySelectorAll("[data-scriptor-btn]");function d(b,a){a.value=e(b,a.value)}function e(k,a){let[j,e,i]=["insert","htmltags","wrap"].map(a=>h(k.getAttribute(a.toLowerCase())??defaultButtonProps[a])),d=k.getAttribute("value")??defaultButtonProps.value;return(b&&console.table({insert:j,value:d,htmltags:e,wrap:i}),j)?a.substring(0,c)+d+a.substring(c,a.length):""===f()?e?a.substring(0,c)+g("",d,!0)+a.substring(c,a.length):i?form.value=a+d+d:a+d:""!=f()?i?e?a.replace(f(),g(f(),d)):a.replace(f(),g(f(),d,!1)):f().startsWith(d)?a.replace(d,""):form.value.replace(f(),d+f()):void 0}function f(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:""}function g(d,a,e=!0){let c=d.trim();return(b&&console.log(a),c.startsWith(`<${a}>`))?(b&&console.log(a),c.replace(RegExp(`^<${a}>`),"").replace(RegExp(`</${a}>$`),"")):!0==c.startsWith(`${a}`)?(b&&console.log("fdxsxs"),c.replace(RegExp(`^${a}`),"").replace(RegExp(`${a}$`),"")):(b&&console.log(e),!0==e)?`<${a}>${d}</${a}>`:`${a}${d}${a}`}function h(a){return"true"===a|| !0===a}a.forEach(a=>a.addEventListener("click",b=>d(a,form)))}
